<h1>OSI 7 layer</h1>

공릉에 내가 있고 미국에 A가 있다고 가정하자.
메세지를 A와 내가 주고받기 위해서는 먼저 end to end 연결이 이루어져야한다.
나는 내가 보내고자 하는 메세지를 공릉우체국에 전달할 것이다.
동일 네트워크 내에서 전달할 수 있는 우체국(gateway)로 전달해줘야 할 것.
공릉우체국처럼 동일 네트워크에서 바깥으로 나가는 문을 gateway라고 한다.
<br><br>
공릉우체국에서는 내가 보낸 메세지를 다음 우체국에 전달해준다.: hop by hop
바로 미국으로 전달되지 않는다.
hop by hop으로 하나씩 하나씩 건너간다.
우체국과 우체국(인터넷) 사이에는 규칙이 있는데 이것을 TCP/IP 라는 두개의 규칙이 있다.
end to end 연결도 규칙을 정의해놓았는데 그것이 OSI 7 layer이다.


<h3>OSI 7 layer에 관한 기본적인 내용 정리</h3>
OSI 참조 모델은 네트워크를 통해 어떻게 정보가 전달되는가를 이해할 수 있는 틀을 제공한다.

OSI 7 Layer의 이점에는 , 복잡성 감소, 네트워크 기능 표준화가 있다. 
또 다양한 하드웨어 및 소프트웨어를 기대할 수 있으며 한계층의 내용을 변화시켜도 다른 네트계층의 변화와는 무관하다는 점, 배우는 사람이 쉽게 습득 가능하다는 점이 있다.

* 7: Application
* 6: Presentation
* 5: Session
* 4: Transport
* 3: Network
* 2: Data Link
* 1: Physical

Session부터는 Application까지는 상위계층, Physical부터 Transport까지는 하위계층이라고 칭한다.
상위계층은 데이터 생성계층이고 하위계층은 데이터 전송계층이다.
5-7계층에서 주고 받는 것은 data이고, 4계층에서 주고 받는 내용은 Segments, 3계층은 Packets, 2계층은 Frame, 1계층은 its라고 한다.

과거에는 packet요금제를 사용하다가 현재는 data요금제를 사용하는데 과거와는 전송되는 위치가 달라졌음을 뜻한다. 

7계층에서 데이터를 만들면 이 데이터를 밑의 6계층으로 내려보내게 되고 밑에 계층에서는 head를 붙인다.
head은 안의 데이터 내용을 설명해준다.
6계층에서는 다시 5계층으로 데이터를 내려보내고 5계층에서 다시 head가 붙는다.

head와 tail을 붙이는 것을 인캡슐레이션이라고 한다.
인캡슐레이션: 상위계층에서 하위 계층으로 데이터를 보내면 물리 계층에서 저기 신호 형태로 네트워크를 통해 신호를 보내는 과정 (분할이 일어남)

5계층까지는 데이터 생성계층이고 4계층부터는 데이터 전송계층이다.
데이터 전송이란 택배아저씨가 들고 갈 수 있는 크기, 즉 전송 크기(규격)인 Segments만큼 데이터를 조각내서 데이터를 보낸다는 뜻이다.
조각화가 되어 3계층으로 내려가면 3계층 head가 붙고 2계층으로 내려가면 2계층 head가 붙게된다.

2계층에서는 tail도 붙고 꼬리는 앞의 데이터의 이상 유무를 체크해준다.
꼬리까지 붙은 상태로 1계층으로 내려가서 전기신호로 바뀌어져서 전송하게 된다.
이 신호를 수신하는 장비는 디캡슐레이션이라는 head를 때어내는 과정을 거치며 정보를 위로 올려줄 것이다.

TCP/IP : 인터넷을 하기 위한 프로토콜 집합 <br>
bit, frame, pracket, segment, data <br>
SDU (service data unit) = payload = 헤더를 제외한 값, 계층에 관심이 없을 때 스는 표현이다. 관심이 있었다면 위에 적혀있는대로 표현했을 것. <br>
PDU (protocol data unit) = 헤더를 포함한 값

<br>

**OSI 7 layer 계층별 정리** <br>
L7 : 상요자에게 편리한 인터페이스를 정의한 계층 <br>
  * C:\Windows\System32\drivers\etc
  * 규칙들은 위 경로의 하위폴더인 services 파일에 들어가 있다.

<img width="526" alt="image" src="https://github.com/orieasy1/2023-2-WebStudy-backend/assets/129071350/7a6517a1-e1cb-4f99-b804-4ac710c67e56">

여기서 보이는 코드들을 7계층에서 정의내려주는 것이다.

<br>
L6 : 압축, 포맷, 암호화를 담당
  * 압축에는 손실성 있는 압축은 줄인다라는 의미를 가지고 손실성 없는 압축은 합친다라는 의미를 가진다.
  * 포맷은 지운다라는 의미로 많이 사용한다. 그러나 포맷이라는 말은 파일시스템을 의미하는데 이를 더 풀어서 설명하자면 파일은 그대로 존재하지만 연결이 끊어져서 이를 읽어오지 못한다는 것이다. 파일시그니처 = 매직넘버(매직넘버를 지우게 되면 아무도 읽어오지 못한다)
  * 암호화는 수학공식에서는 이산대수문제와 소인수 분해를 많이 사용하고 절차 또한 많이 사용된다. 절차에서는 feistal 구조를 많이 사용하고 키만 둘이 알고있고 이것으로 통신한다.
  
  암호화할 때 사용하는 키를 암호화 키라고하고 암호를 풀 때 사용하는 키를 복호화 키라고 한다.
  두 키가 같으면 대칭키 알고리즘, 두 키가 다르는 비대칭 키 알고리즘이라고 칭한다.

<br>

  **대칭키 알고리즘**: 암호화키 = 복호화키 = 비밀키
  ex) DES, 3DES, AES(영어표준)/ SEED, ARIA(한국어 표준)
  장점: 비대칭키에 비해서 연산이 빠르다. (연산 과부하가 적다는 것)
  단점: 키 분배가 안전하지 못 하다. 암호를 할 때 사용했던 키를 상대방에게 줘야지 암호를 풀 수 있는데 이 키를 전달하는 과장에서 다른 누구가 이 키를 가져갈 수 있으니 안전하지 못하다.
  <br>

  **비대칭키 알고리즘**: 암호화키(public key) != 복호화키(private key)
  ex) DH(diffie hellman), RSA(암호화키와 복호화키의 역할 변경, 암호+인증)
  장점: 대칭키에 비해서 키분배가 안전하다. 
  단점: 대칭키에 비해서 연산이 느리다.
